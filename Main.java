import java.util.Scanner;

public class TicTacToeTester
{
	public static void main(String[] args)
	{
		TicTacToe game = new TicTacToe();

		// setup
		int gameType = 7;
		while (gameType != 1 && gameType != 0) {
			gameType = Integer.parseInt(prompt("0: Player vs Player\n1: Player vs Bot\n\nenter game type: "));
		}

		for (int i = 0; i < 9; i++) {
			if (game.checkWin()) continue;

			if (gameType == 0) twoPlayerGame(game);
			else {
				onePlayerGame(game);
				i++;
			}
		}

		clear();
		game.printBoard();
		System.out.println();

		if (game.checkWin()) {
			System.out.println("Game over!\n");
			System.out.println((game.getTurn() % 2 == 1 ? "X" : "O") + " won.");
		} else System.out.println("It's a tie! :(");

	}

	static void twoPlayerGame(TicTacToe game) {
		clear();
		game.printBoard();
		System.out.println();
		
		int row = 69;
		int col = 69;
		while (!game.pickLocation(row, col)) {
			System.out.println("⚠ this program will cry if you don't enter an integer between 0 and 2 ⚠\n");
			System.out.println("It's " + (game.getTurn() % 2 == 0 ? "X" : "O") + "'s turn");
			System.out.println("make a move:");
			row = Integer.parseInt(prompt("row: "));
			col = Integer.parseInt(prompt("col: "));

			if (!game.pickLocation(row, col)) {
				clear();
				System.out.println("oh no! one of your inputs was wrong! please try again.\n");
			}
		}
		game.takeTurn(row, col);
	}

	static void onePlayerGame(TicTacToe game) {
		clear();
		game.printBoard();
		System.out.println();

		int row = 69;
		int col = 69;
		while (!game.pickLocation(row, col)) {
			System.out.println("⚠ this program will cry if you don't enter an integer between 0 and 2 ⚠\n");
			System.out.println("It's your turn!");
			System.out.println("make a move:");
			row = Integer.parseInt(prompt("row: "));
			col = Integer.parseInt(prompt("col: "));

			if (!game.pickLocation(row, col)) {
				clear();
				System.out.println("oh no! one of your inputs was wrong! please try again.\n");
			}
		}
		game.takeTurn(row, col);
		// I really don't feel like condensing this into reusable code ugh
		// --
		
		// bot stuff
		TicTacToeBot bot = new TicTacToeBot(game);
		int[] botMove = bot.move();
		game.takeTurn(botMove[0], botMove[1]);

	}

	static String prompt(String text) {
		Scanner input = new Scanner(System.in);
		System.out.print(text);
		return input.nextLine();
	}

	static void clear() {
		System.out.println("\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n");
	}
}
